<!-- DO NOT EDIT THIS FILE-->
<!-- Edit the .tex version instead-->

<html>
<head>
<title>Tutorials<a name="g1"></a></title>
</head>
<body>

<a name="g2"></a>
<a name="g3"></a>

<h1>Chapter 1. Tutorials<a name="g4"></a></h1>





<a name="g6"></a>

<h3><br><a name="g7"></a>Section 1.1. Using <tt>define-class</tt></h3>


<a name="g8"></a>
<a name="g9"></a>
<a name="g10"></a>
<a name="g11"></a>
<a name="g12"></a>
<a name="g13"></a>
<a name="g14"></a>
 Classes are defined using the <tt>define-class</tt> macro.
 Below we define a class <tt>point</tt> with instance variables
 <tt>x</tt> and <tt>y</tt>, and methods <tt>distance</tt>,
 <tt>get-x</tt>, <tt>get-y</tt>, <tt>set-x!</tt>, and <tt>set-y!</tt>.

<p><tt>(let&nbsp;()<br>

&nbsp;&nbsp;(define-class&nbsp;(point&nbsp;x&nbsp;y)&nbsp;(&lt;base&gt;)&nbsp;(ivars&nbsp;(x&nbsp;x)&nbsp;(y&nbsp;y))&nbsp;(inherited)&nbsp;(inheritable)<br>

&nbsp;&nbsp;&nbsp;&nbsp;(private<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(delta-x&nbsp;(pt)&nbsp;(abs&nbsp;(-&nbsp;x&nbsp;(send&nbsp;pt&nbsp;get-x))))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(delta-y&nbsp;(pt)&nbsp;(abs&nbsp;(-&nbsp;y&nbsp;(send&nbsp;pt&nbsp;get-y)))))<br>

&nbsp;&nbsp;&nbsp;&nbsp;(protected<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(combine-deltas&nbsp;(x&nbsp;y)&nbsp;(error&nbsp;'point&nbsp;"not&nbsp;sure&nbsp;how&nbsp;to&nbsp;combine&nbsp;deltas")))<br>

&nbsp;&nbsp;&nbsp;&nbsp;(public&nbsp;(distance&nbsp;(pt)&nbsp;(combine-deltas&nbsp;(delta-x&nbsp;pt)&nbsp;(delta-y&nbsp;pt)))&nbsp;(get-x&nbsp;()&nbsp;x)<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(get-y&nbsp;()&nbsp;y)&nbsp;(set-x!&nbsp;(val)&nbsp;(set!&nbsp;x&nbsp;val))&nbsp;(set-y!&nbsp;(val)&nbsp;(set!&nbsp;y&nbsp;val))))<br>

&nbsp;&nbsp;(*comment*&nbsp;"&nbsp;Note&nbsp;that&nbsp;the&nbsp;syntax&nbsp;for&nbsp;classes&nbsp;is&nbsp;currently&nbsp;very&nbsp;rigid:"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;no&nbsp;part&nbsp;of&nbsp;the&nbsp;class&nbsp;definition&nbsp;is&nbsp;optional.&nbsp;&nbsp;If&nbsp;this&nbsp;becomes"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;tedious&nbsp;it&nbsp;is&nbsp;straightforward&nbsp;to&nbsp;define&nbsp;macros&nbsp;that&nbsp;expand&nbsp;into"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;the&nbsp;full&nbsp;class&nbsp;definition."&nbsp;""<br>

&nbsp;&nbsp;&nbsp;"&nbsp;The&nbsp;first&nbsp;subform&nbsp;of&nbsp;the&nbsp;\\scheme{define-class}&nbsp;expression"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;gives&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;class&nbsp;and&nbsp;a&nbsp;list&nbsp;of&nbsp;formal"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;parameters&nbsp;for&nbsp;which&nbsp;arguments&nbsp;must&nbsp;be&nbsp;supplied&nbsp;when&nbsp;an"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;instance&nbsp;of&nbsp;the&nbsp;class&nbsp;is&nbsp;constructed."<br>

&nbsp;&nbsp;&nbsp;"&nbsp;These&nbsp;formals&nbsp;are&nbsp;visible&nbsp;in&nbsp;the&nbsp;expressions&nbsp;that&nbsp;initialize"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;the&nbsp;instance&nbsp;variables&nbsp;and&nbsp;the&nbsp;arguments&nbsp;to&nbsp;the"&nbsp;"&nbsp;base&nbsp;class."<br>

&nbsp;&nbsp;&nbsp;"&nbsp;The&nbsp;second&nbsp;subform&nbsp;of&nbsp;the&nbsp;\\scheme{define-class}&nbsp;expression"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;names&nbsp;the&nbsp;base&nbsp;class&nbsp;and&nbsp;supplies&nbsp;the&nbsp;actual&nbsp;values"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;needed&nbsp;to&nbsp;initialize&nbsp;the&nbsp;base&nbsp;class.&nbsp;&nbsp;In&nbsp;the&nbsp;example"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;above,&nbsp;the&nbsp;base&nbsp;class&nbsp;is&nbsp;\\scheme{&lt;base&gt;}&nbsp;which&nbsp;takes&nbsp;no&nbsp;arguments."&nbsp;""<br>

&nbsp;&nbsp;&nbsp;"&nbsp;\\scheme{ivars}&nbsp;introduces&nbsp;a&nbsp;binding&nbsp;list&nbsp;of&nbsp;expressions"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;much&nbsp;like&nbsp;\\scheme{let}."<br>

&nbsp;&nbsp;&nbsp;"&nbsp;The&nbsp;class&nbsp;formals&nbsp;are&nbsp;visible&nbsp;within&nbsp;these&nbsp;expressions."<br>

&nbsp;&nbsp;&nbsp;"&nbsp;\\scheme{inherited}&nbsp;introduces&nbsp;a&nbsp;list&nbsp;of&nbsp;identifiers&nbsp;naming"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;instance&nbsp;variables&nbsp;inherited&nbsp;from&nbsp;the&nbsp;base&nbsp;class.&nbsp;&nbsp;These"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;variables&nbsp;are&nbsp;initialized&nbsp;by&nbsp;a&nbsp;super&nbsp;class."<br>

&nbsp;&nbsp;&nbsp;"&nbsp;\\scheme{inheritable}&nbsp;introduces&nbsp;a&nbsp;list&nbsp;of&nbsp;identifiers&nbsp;naming"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;instance&nbsp;variables&nbsp;that&nbsp;may&nbsp;be&nbsp;inherited&nbsp;by&nbsp;subclasses&nbsp;derived"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;from&nbsp;this&nbsp;class.&nbsp;&nbsp;This&nbsp;list&nbsp;may&nbsp;include&nbsp;identifiers&nbsp;bound&nbsp;in"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;the&nbsp;\\scheme{ivars}&nbsp;or&nbsp;listed&nbsp;among&nbsp;the&nbsp;\\scheme{inherited}."&nbsp;"&nbsp;"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;Methods&nbsp;are&nbsp;divided&nbsp;into&nbsp;three&nbsp;groups:&nbsp;\\scheme{private}&nbsp;methods&nbsp;visible"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;only&nbsp;within&nbsp;a&nbsp;class,&nbsp;\\scheme{protected}&nbsp;methods&nbsp;visible&nbsp;within&nbsp;a&nbsp;class"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;and&nbsp;its&nbsp;subclasses,"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;and&nbsp;\\scheme{public}&nbsp;methods&nbsp;visible&nbsp;outside&nbsp;the&nbsp;class&nbsp;as&nbsp;well."<br>

&nbsp;&nbsp;&nbsp;"&nbsp;Syntactically,&nbsp;a&nbsp;method&nbsp;is&nbsp;a&nbsp;list&nbsp;consisting&nbsp;of&nbsp;the&nbsp;method&nbsp;name,"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;the&nbsp;method&nbsp;formals&nbsp;(in&nbsp;any&nbsp;form&nbsp;accepted&nbsp;by&nbsp;\\scheme{lambda}),&nbsp;and"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;a&nbsp;sequence&nbsp;of&nbsp;expressions&nbsp;forming&nbsp;the&nbsp;method&nbsp;body."<br>

&nbsp;&nbsp;&nbsp;"&nbsp;The&nbsp;instance&nbsp;variables&nbsp;and&nbsp;inherited&nbsp;instance&nbsp;variables"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;are&nbsp;visible&nbsp;within&nbsp;each&nbsp;method&nbsp;body,&nbsp;as&nbsp;are&nbsp;the&nbsp;other"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;methods&nbsp;and&nbsp;an&nbsp;implicit&nbsp;binding&nbsp;of&nbsp;\\scheme{self}&nbsp;to&nbsp;the&nbsp;instance."<br>

&nbsp;&nbsp;&nbsp;"&nbsp;Calls&nbsp;to&nbsp;private&nbsp;and&nbsp;protected&nbsp;methods&nbsp;have&nbsp;the&nbsp;same&nbsp;syntax"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;as&nbsp;ordinary&nbsp;function&nbsp;calls.&nbsp;&nbsp;Public&nbsp;methods"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;are&nbsp;called&nbsp;using&nbsp;the&nbsp;\\scheme{send}&nbsp;macro:"&nbsp;""<br>

&nbsp;&nbsp;&nbsp;"&nbsp;\\scheme{(send&nbsp;instance&nbsp;message&nbsp;arg&nbsp;...)}"&nbsp;""<br>

&nbsp;&nbsp;&nbsp;"&nbsp;\\noindent&nbsp;where&nbsp;\<i>message</i>&nbsp;is&nbsp;the&nbsp;name&nbsp;of&nbsp;a&nbsp;public&nbsp;method&nbsp;in&nbsp;the&nbsp;class"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;of&nbsp;which&nbsp;\<i>instance</i>&nbsp;is&nbsp;an&nbsp;instance.&nbsp;&nbsp;The&nbsp;\\scheme{define-generic}"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;macro&nbsp;takes&nbsp;the&nbsp;name&nbsp;of&nbsp;a&nbsp;public&nbsp;method&nbsp;and&nbsp;binds&nbsp;it&nbsp;to&nbsp;a&nbsp;macro"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;that&nbsp;expands&nbsp;into&nbsp;the&nbsp;appropriate&nbsp;use&nbsp;of&nbsp;\\scheme{send}."&nbsp;"&nbsp;Thus,&nbsp;given"&nbsp;""<br>

&nbsp;&nbsp;&nbsp;"&nbsp;\\scheme{(define-generic&nbsp;message)}"&nbsp;""<br>

&nbsp;&nbsp;&nbsp;"&nbsp;\\noindent&nbsp;the&nbsp;schema&nbsp;for&nbsp;calling&nbsp;public&nbsp;methods&nbsp;above&nbsp;becomes"&nbsp;""<br>

&nbsp;&nbsp;&nbsp;"&nbsp;\\scheme{(message&nbsp;instance&nbsp;arg&nbsp;...)}"&nbsp;""<br>

&nbsp;&nbsp;&nbsp;"&nbsp;When&nbsp;a&nbsp;subclass&nbsp;extends&nbsp;a&nbsp;public&nbsp;method&nbsp;it&nbsp;is&nbsp;often&nbsp;convenient&nbsp;to"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;call&nbsp;the&nbsp;base&nbsp;method.&nbsp;&nbsp;This&nbsp;is&nbsp;possible&nbsp;using&nbsp;the&nbsp;\\scheme{send-base}"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;macro,&nbsp;which&nbsp;has&nbsp;syntax&nbsp;identical&nbsp;to&nbsp;\\scheme{send},&nbsp;but&nbsp;which&nbsp;calls"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;the&nbsp;specified&nbsp;method&nbsp;in&nbsp;the&nbsp;base&nbsp;class."&nbsp;""<br>

&nbsp;&nbsp;&nbsp;"&nbsp;In&nbsp;the&nbsp;\\scheme{point}&nbsp;example&nbsp;above,&nbsp;\\scheme{delta-x}&nbsp;and&nbsp;\\scheme{delta-y}&nbsp;are&nbsp;private"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;methods&nbsp;that&nbsp;compute&nbsp;the&nbsp;absolute&nbsp;difference&nbsp;in&nbsp;the&nbsp;\\scheme{x}&nbsp;and"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;\\scheme{y}&nbsp;values&nbsp;for&nbsp;two&nbsp;points.&nbsp;&nbsp;\\scheme{combine-deltas}&nbsp;is&nbsp;a&nbsp;protected"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;method&nbsp;that&nbsp;is&nbsp;redefined&nbsp;in&nbsp;the&nbsp;\\scheme{cartesian-point}&nbsp;and"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;\\scheme{manhattan-point}&nbsp;subclasses.&nbsp;&nbsp;\\scheme{point}&nbsp;provides&nbsp;public&nbsp;methods"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;for&nbsp;setting&nbsp;and&nbsp;accessing&nbsp;the&nbsp;instance&nbsp;variables,&nbsp;and&nbsp;a&nbsp;\\scheme{distance}"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;method&nbsp;that&nbsp;relies&nbsp;on&nbsp;a&nbsp;suitable&nbsp;implementation&nbsp;of&nbsp;\\scheme{combine-deltas}."<br>

&nbsp;&nbsp;&nbsp;"&nbsp;Note&nbsp;that&nbsp;we&nbsp;must&nbsp;define&nbsp;\\scheme{combine-deltas}&nbsp;as&nbsp;a&nbsp;protected&nbsp;method"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;in&nbsp;\\scheme{point}&nbsp;so&nbsp;that&nbsp;the&nbsp;\\scheme{distance}&nbsp;method&nbsp;recognizes&nbsp;it&nbsp;as&nbsp;a&nbsp;protected"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;method."<br>

&nbsp;&nbsp;&nbsp;"&nbsp;This&nbsp;is&nbsp;necessary&nbsp;because&nbsp;the&nbsp;\\scheme{distance}&nbsp;method&nbsp;is&nbsp;compiled&nbsp;without"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;knowlege&nbsp;of&nbsp;its&nbsp;subclasses,&nbsp;and&nbsp;has&nbsp;the&nbsp;added&nbsp;benefit&nbsp;that&nbsp;we&nbsp;get"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;a&nbsp;better&nbsp;error&nbsp;message&nbsp;if&nbsp;a&nbsp;subclass&nbsp;fails&nbsp;to&nbsp;define&nbsp;\\scheme{combine-deltas}"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;as&nbsp;a&nbsp;protected&nbsp;method."&nbsp;"&nbsp;When&nbsp;we&nbsp;redefine&nbsp;\\scheme{combine-deltas}"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;in&nbsp;the&nbsp;\\scheme{cartesian-point}&nbsp;and&nbsp;\\scheme{manhattan-point}&nbsp;classes&nbsp;below,"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;the&nbsp;inherited"&nbsp;"&nbsp;\\scheme{distance}&nbsp;method&nbsp;works&nbsp;as&nbsp;intended."&nbsp;""<br>

&nbsp;&nbsp;&nbsp;"&nbsp;Now&nbsp;we&nbsp;define&nbsp;a&nbsp;\\scheme{cartesian-point}&nbsp;class&nbsp;that"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;redefines&nbsp;the&nbsp;protected&nbsp;method&nbsp;\\scheme{combine-deltas}"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;so&nbsp;that&nbsp;the&nbsp;inherited&nbsp;\\scheme{distance}&nbsp;method&nbsp;computes&nbsp;the"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;cartesian&nbsp;distance&nbsp;between&nbsp;two&nbsp;points."<br>

&nbsp;&nbsp;&nbsp;"&nbsp;Note&nbsp;that&nbsp;the&nbsp;base&nbsp;class&nbsp;\\scheme{point}&nbsp;is&nbsp;initialized&nbsp;with&nbsp;the"<br>

&nbsp;&nbsp;&nbsp;"&nbsp;\\scheme{x}&nbsp;and&nbsp;\\scheme{y}&nbsp;values&nbsp;supplied&nbsp;to&nbsp;\\scheme{cartesian-point}.")<br>

&nbsp;&nbsp;(define-class&nbsp;(cartesian-point&nbsp;x&nbsp;y)&nbsp;(point&nbsp;x&nbsp;y)&nbsp;(ivars)&nbsp;(inherited)<br>

&nbsp;&nbsp;&nbsp;&nbsp;(inheritable)&nbsp;(private)<br>

&nbsp;&nbsp;&nbsp;&nbsp;(protected&nbsp;(combine-deltas&nbsp;(dx&nbsp;dy)&nbsp;(sqrt&nbsp;(+&nbsp;(*&nbsp;dx&nbsp;dx)&nbsp;(*&nbsp;dy&nbsp;dy)))))&nbsp;(public))<br>

&nbsp;&nbsp;(*comment*&nbsp;"&nbsp;\\noindent&nbsp;For&nbsp;example")<br>

&nbsp;&nbsp;(let&nbsp;([a&nbsp;(make&nbsp;cartesian-point&nbsp;1&nbsp;1)]&nbsp;[b&nbsp;(make&nbsp;cartesian-point&nbsp;4&nbsp;5)])<br>

&nbsp;&nbsp;&nbsp;&nbsp;(send&nbsp;a&nbsp;distance&nbsp;b))<br>

&nbsp;&nbsp;(*comment*&nbsp;"&nbsp;\\noindent&nbsp;evaluates&nbsp;to&nbsp;\\scheme{5}."&nbsp;""<br>

&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;Next&nbsp;we&nbsp;define&nbsp;a&nbsp;\\scheme{manhattan-point}&nbsp;class&nbsp;that"<br>

&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;redefines&nbsp;the&nbsp;protected&nbsp;method&nbsp;\\scheme{combine-deltas}"<br>

&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;so&nbsp;that&nbsp;the&nbsp;inherited&nbsp;\\scheme{distance}&nbsp;method&nbsp;computes&nbsp;the"<br>

&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;manhattan&nbsp;distance&nbsp;between&nbsp;two&nbsp;points."<br>

&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;Note&nbsp;that&nbsp;the&nbsp;base&nbsp;class&nbsp;\\scheme{point}&nbsp;is&nbsp;initialized&nbsp;with&nbsp;the"<br>

&nbsp;&nbsp;&nbsp;&nbsp;"&nbsp;\\scheme{x}&nbsp;and&nbsp;\\scheme{y}&nbsp;values&nbsp;supplied&nbsp;to&nbsp;\\scheme{manhattan-point}.")<br>

&nbsp;&nbsp;(let&nbsp;()<br>

&nbsp;&nbsp;&nbsp;&nbsp;(define-class&nbsp;(manhattan-point&nbsp;x&nbsp;y)&nbsp;(point&nbsp;x&nbsp;y)&nbsp;(ivars)&nbsp;(inherited)<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(inheritable)&nbsp;(private)<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(protected&nbsp;(combine-deltas&nbsp;(delta-x&nbsp;delta-y)&nbsp;(+&nbsp;delta-x&nbsp;delta-y)))&nbsp;(public))<br>

&nbsp;&nbsp;&nbsp;&nbsp;(*comment*&nbsp;"&nbsp;\\noindent&nbsp;For&nbsp;example")<br>

&nbsp;&nbsp;&nbsp;&nbsp;(let&nbsp;([a&nbsp;(make&nbsp;manhattan-point&nbsp;1&nbsp;1)]&nbsp;[b&nbsp;(make&nbsp;manhattan-point&nbsp;4&nbsp;5)])<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(send&nbsp;a&nbsp;distance&nbsp;b))))<br>

</tt>
<p> evaluates to <tt>7</tt>.

<a name="g15"></a>

<h3><br><a name="g16"></a>Section 1.2. Using <tt>&lt;toplevel&gt;</tt></h3>


<a name="g17"></a>
<a name="g18"></a>
<a name="g19"></a>
<a name="g20"></a>
<a name="g21"></a>
<a name="g22"></a>
 A toplevel provides a free-standing window on the display and
 serves as the parent for other widgets that make up an application.
 Below we use the <tt>create</tt> macro and the keywords <tt>title:</tt>,
 <tt>width:</tt>, and <tt>height:</tt>, to create a 3-inch by 2-inch
 toplevel window titled
 "Toplevel Example".
 Since a toplevel has no parent widget there are no positional arguments
 to the create macro; all arguments are keyword arguments.
 Here <tt>in-&gt;pixels</tt> is used to convert from inches to screen pixels.
 There are also procedures <tt>cm-&gt;pixels</tt>, and <tt>pt-&gt;pixels</tt>
 which convert from centimeters and printer's points to screen pixels.
 Toplevel windows are visible by default.  Later examples show how
 other widgets that are not visible by default can be displayed on
 the screen.

<p><tt>(create&nbsp;&lt;toplevel&gt;&nbsp;with&nbsp;(title:&nbsp;"Toplevel&nbsp;Example")&nbsp;(height:&nbsp;(in-&gt;pixels&nbsp;2))<br>

&nbsp;&nbsp;(width:&nbsp;(in-&gt;pixels&nbsp;3)))<br>

</tt>
<p>
<a name="g23"></a>

<h3><br><a name="g24"></a>Section 1.3. Using <tt>&lt;label&gt;</tt></h3>


<a name="g25"></a>
<a name="g26"></a>
<a name="g27"></a>
<a name="g28"></a>
<a name="g29"></a>
<a name="g30"></a>
<a name="g31"></a>
 A label displays text that cannot be edited by the user.
 If the string to be displayed contains newline characters,
 or exceeds a user-specified length limit for the label,
 then multiple lines of text are displayed.

 <p>
When creating any widget (other than a <tt>&lt;toplevel&gt;</tt>), the
 widget's parent is passed as a positional argument to
 the <tt>create</tt> macro before the keyword arguments.
 Below we first create an appropriately titled toplevel window <tt>top</tt> to
 display the label.  Next we create the label, passing <tt>top</tt> as a
 positional argument before the keyword arguments <tt>title:</tt> and <tt>font:</tt>
 which specify the string to be displayed and the font to display it in.
 We request a 14 point bold italic Times font.
 For labels and many other widgets that display text, the <tt>width/char:</tt>
 keyword is used to specify the width of the widget in characters.
 If <tt>width:</tt> is omitted, the label shrinks to fit its text.
 Here we specify a width of 30 characters to show that a label
 centers its text by default.  The placement of the text can be
 adjusted with the <tt>anchor:</tt> and <tt>justify:</tt> keywords.
 Finally, to make the label visible we call the <tt>show</tt> method.
 The toplevel is visible by default.

<p><tt>(let&nbsp;([top&nbsp;(create&nbsp;&lt;toplevel&gt;&nbsp;with&nbsp;(title:&nbsp;"Label&nbsp;Example"))])<br>

&nbsp;&nbsp;(let&nbsp;([label&nbsp;(create&nbsp;&lt;label&gt;&nbsp;top&nbsp;with&nbsp;(title:&nbsp;"This&nbsp;is&nbsp;a&nbsp;label")<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(font:&nbsp;(create&nbsp;&lt;font&gt;&nbsp;'times&nbsp;14&nbsp;'(bold&nbsp;italic)))&nbsp;(width/char:&nbsp;30))])<br>

&nbsp;&nbsp;&nbsp;&nbsp;(show&nbsp;label)))<br>

</tt>
<p>
<a name="g32"></a>

<h3><br><a name="g33"></a>Section 1.4. Using <tt>&lt;button&gt;</tt></h3>


<a name="g34"></a>
<a name="g35"></a>
<a name="g36"></a>
<a name="g37"></a>
<a name="g38"></a>
<a name="g39"></a>
<a name="g40"></a>
<a name="g41"></a>
 A button displays text that cannot be edited by the user
 and can be pressed to perform some action.
 As with labels, multiple lines of text are displayed
 when the <tt>title:</tt> string contains newline characters,
 or exceeds a user-specified length limit for the button.

 <p>
When creating any widget (other than a <tt>&lt;toplevel&gt;</tt>), the
 widget's parent is passed as a positional argument to
 the <tt>create</tt> macro before the keyword arguments.
 Here we create a button with <tt>top</tt> as its parent.
 Initially the button displays "Never been clicked".
 The <tt>action:</tt> keyword introduces a procedure
 of one argument (the instance) to be called whenever the button is clicked.
 In this example, the callback procedure changes the title of the
 button, using <tt>set-title!</tt>, each time the button is clicked.
 We could also have written <tt>(set-option! button (title: ...))</tt>.
 Note that the width of the button is adjusted to fit its title
 whenever the title changes because we have not specified a value
 for the <tt>width:</tt> keyword.
 To make the button visible we call the <tt>show</tt> method.

<p><tt>(let&nbsp;([top&nbsp;(create&nbsp;&lt;toplevel&gt;&nbsp;with&nbsp;(title:&nbsp;"Button&nbsp;Example"))])<br>

&nbsp;&nbsp;(let&nbsp;([button&nbsp;(create&nbsp;&lt;button&gt;&nbsp;top&nbsp;with&nbsp;(title:&nbsp;"Never&nbsp;been&nbsp;clicked")<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(action:<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(let&nbsp;([count&nbsp;0])<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lambda&nbsp;(self)<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(set!&nbsp;count&nbsp;(+&nbsp;count&nbsp;1))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(set-title!&nbsp;self&nbsp;(format&nbsp;"~a&nbsp;click(s)"&nbsp;count))))))])<br>

&nbsp;&nbsp;&nbsp;&nbsp;(show&nbsp;button)))<br>

</tt>
<p>
<a name="g42"></a>

<h3><br><a name="g43"></a>Section 1.5. Using <tt>&lt;canvas&gt;</tt></h3>


<a name="g44"></a>
<a name="g45"></a>
<a name="g46"></a>
<a name="g47"></a>
<a name="g48"></a>
<a name="g49"></a>
<a name="g50"></a>
<a name="g51"></a>
<a name="g52"></a>
<a name="g53"></a>
<a name="g54"></a>
<a name="g55"></a>
<a name="g56"></a>
<a name="g57"></a>
<a name="g58"></a>
<a name="g59"></a>
<a name="g60"></a>
 <a name="g61"></a>
 A canvas provides screen real-estate on which a variety
 of figures such as lines, rectangles, and ovals can be displayed.
 In this example we create 
 a sub-class of <tt>&lt;canvas&gt;</tt> with event bindings that allow the user to
 draw rectangles by dragging with mouse button 1.
 We also use a label to display help messages to the user.
 The background of the canvas is given a color
 suitable for an easter egg. 

 <p>
The <tt>&lt;example-canvas&gt;</tt> class below extends the
 <tt>mouse-press</tt>, <tt>mouse-release</tt>, and <tt>mouse-motion</tt>
 methods of the <tt>&lt;canvas&gt;</tt> class.
 The <tt>mouse-press</tt> method notifies a widget of the x- and
 y-coordinates and the state of the modifier keys when a mouse
 button is pressed while the mouse is over the widget.  Using
 <tt>event-case</tt>, we inspect
 the set of modifiers to see whether the left mouse
 button is pressed.  If so, we record the starting
 positions, update the help text displayed in the <tt>&lt;label&gt;</tt>,
 and create a new rectangle on the canvas at the place
 where the mouse was clicked.  Otherwise we send
 the <tt>mouse-press</tt> notification on to the base class using
 the <tt>send-base</tt> syntax.

 <p>
The <tt>mouse-motion</tt> method notifies a widget of the x- and
 y-coordinates and the state of the modifier keys when the mouse
 moves over the widget.  If the left button is pressed, we
 update the coordinates of the rectangle
 to reflect the current position of the mouse.

 <p>
The <tt>mouse-release</tt> method notifies a widget of the x- and
 y-coordinates and the state of the modifier keys when a mouse
 button is released while the mouse is over the widget.
 If the left button was released, we reset the state of the
 widget and reset the help text.

 <p>
Although the example below does not demonstrate this, individual
 figures on the canvas can have event methods of their own.
 For instance, it is relatively easy to make the rectangles
 draggable with mouse button 2, or to make them resizable after they
 have been drawn.

<p><tt>(let*&nbsp;([top&nbsp;(create&nbsp;&lt;toplevel&gt;&nbsp;with&nbsp;(title:&nbsp;"Canvas&nbsp;Example"))]<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[start-text&nbsp;"Click&nbsp;button&nbsp;1&nbsp;in&nbsp;canvas&nbsp;below"]<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[label&nbsp;(create&nbsp;&lt;label&gt;&nbsp;top&nbsp;with&nbsp;(title:&nbsp;start-text))])<br>

&nbsp;&nbsp;(define-swl-class&nbsp;(&lt;example-canvas&gt;&nbsp;parent)&nbsp;(&lt;canvas&gt;&nbsp;parent)<br>

&nbsp;&nbsp;&nbsp;&nbsp;(ivars&nbsp;(x1&nbsp;#f)&nbsp;(y1&nbsp;#f)&nbsp;(rect&nbsp;#f))&nbsp;(inherited)&nbsp;(inheritable)&nbsp;(private)<br>

&nbsp;&nbsp;&nbsp;&nbsp;(protected)<br>

&nbsp;&nbsp;&nbsp;&nbsp;(public<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(mouse-press<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(x&nbsp;y&nbsp;mods)<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(event-case<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((modifier=&nbsp;mods))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(((left-button))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(set!&nbsp;x1&nbsp;x)<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(set!&nbsp;y1&nbsp;y)<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(set-title!&nbsp;label&nbsp;"Hold&nbsp;down&nbsp;button&nbsp;1&nbsp;and&nbsp;drag")<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(set!&nbsp;rect&nbsp;(create&nbsp;&lt;rectangle&gt;&nbsp;self&nbsp;x1&nbsp;y1&nbsp;x1&nbsp;y1)))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(else&nbsp;(send-base&nbsp;self&nbsp;mouse-press&nbsp;x&nbsp;y&nbsp;mods))))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(mouse-motion<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(x&nbsp;y&nbsp;mods)<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(event-case<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((modifier=&nbsp;mods))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(((left-button))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(when&nbsp;rect<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(set-coords!&nbsp;rect&nbsp;(min&nbsp;x&nbsp;x1)&nbsp;(min&nbsp;y&nbsp;y1)&nbsp;(max&nbsp;x&nbsp;x1)&nbsp;(max&nbsp;y&nbsp;y1))))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(else&nbsp;(send-base&nbsp;self&nbsp;mouse-motion&nbsp;x&nbsp;y&nbsp;mods))))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(mouse-release<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(x&nbsp;y&nbsp;mods)<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(event-case<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((modifier=&nbsp;mods))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(((left-button))&nbsp;(set!&nbsp;rect&nbsp;#f)&nbsp;(set-title!&nbsp;label&nbsp;start-text))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(else&nbsp;(send-base&nbsp;self&nbsp;mouse-release&nbsp;x&nbsp;y&nbsp;mods))))))<br>

&nbsp;&nbsp;(let&nbsp;([canvas&nbsp;(create<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;example-canvas&gt;<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;top<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(background-color:&nbsp;(make&nbsp;&lt;rgb&gt;&nbsp;215&nbsp;215&nbsp;255)))])<br>

&nbsp;&nbsp;&nbsp;&nbsp;(show&nbsp;label)<br>

&nbsp;&nbsp;&nbsp;&nbsp;(show&nbsp;canvas)))<br>

</tt>
<p>
<a name="g62"></a>

<h3><br><a name="g63"></a>Section 1.6. Using <tt>&lt;entry&gt;</tt></h3>


<a name="g64"></a>
<a name="g65"></a>
<a name="g66"></a>
<a name="g67"></a>
<a name="g68"></a>
<a name="g69"></a>
<a name="g70"></a>
<a name="g71"></a>
<a name="g72"></a>
<a name="g73"></a>
<a name="g74"></a>
<a name="g75"></a>
<a name="g76"></a>
<a name="g77"></a>
<a name="g78"></a>
<a name="g79"></a>
<a name="g80"></a>
<a name="g81"></a>
 An entry displays a single line of user-editable text.
 If the contents of the entry exceed its width, it can be
 scrolled horizontally.  This example shows how scrollbars
 interact with scrollable widgets.

 <p>
We create a toplevel window <tt>top</tt>, an entry 20 characters wide called
 <tt>entry</tt>, and a horizontal scrollbar called <tt>scroll</tt>.
 We arrange for the entry to have the focus when <tt>top</tt> has focus
 via <tt>set-focus</tt>.
 Next we set <tt>entry</tt>'s <tt>hscroll-notify:</tt> procedure to
 a procedure that informs the scrollbar <tt>scroll</tt> of the
 new left and right extents of the entry.
 This lets the scrollbar represent the position and size
 of the current view in the entry relative to the entry's
 total content.
 We set the action for the scrollbar to be a procedure that
 passes its number and qualifier arguments to the <tt>hscroll</tt>
 method of the entry.
 This tells the scrollbar who to notify and how to notify them
 when the user manipulates the slider vi keyboard or mouse.

 <p>
Next we create a button titled "done" that retrieves via
 <tt>get-string</tt> the contents of the entry, prints the resulting
 string, then destroys the application
 by destroying the toplevel window <tt>top</tt>.
 The button and scrollbar are packed so that they expand and fill
 the horizontal dimension of their parent <tt>top</tt>.
 The entry is packed without these properties to illustrate the
 difference when the toplevel is resized.  Run the demo, type
 a long string in entry, and try scrolling the contents.

<p><tt>(let*&nbsp;([top&nbsp;(create&nbsp;&lt;toplevel&gt;&nbsp;with&nbsp;(title:&nbsp;"Entry&nbsp;Example"))]<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[entry&nbsp;(create&nbsp;&lt;entry&gt;&nbsp;top&nbsp;with&nbsp;(width/char:&nbsp;20))]<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[scroll&nbsp;(create&nbsp;&lt;scrollbar&gt;&nbsp;top&nbsp;with&nbsp;(orientation:&nbsp;'horizontal))])<br>

&nbsp;&nbsp;(set-focus&nbsp;entry)<br>

&nbsp;&nbsp;(set-option!<br>

&nbsp;&nbsp;&nbsp;&nbsp;entry<br>

&nbsp;&nbsp;&nbsp;&nbsp;(hscroll-notify:&nbsp;(lambda&nbsp;(left&nbsp;right)&nbsp;(set-view!&nbsp;scroll&nbsp;left&nbsp;right))))<br>

&nbsp;&nbsp;(set-option!&nbsp;scroll&nbsp;(action:&nbsp;(lambda&nbsp;(self&nbsp;n&nbsp;q)&nbsp;(hscroll&nbsp;entry&nbsp;n&nbsp;q))))<br>

&nbsp;&nbsp;(pack<br>

&nbsp;&nbsp;&nbsp;&nbsp;(create&nbsp;&lt;button&gt;&nbsp;top&nbsp;with&nbsp;(title:&nbsp;"done")<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(action:<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lambda&nbsp;(self)&nbsp;(printf&nbsp;"Entry:&nbsp;~s~n"&nbsp;(get-string&nbsp;entry))&nbsp;(destroy&nbsp;top))))<br>

&nbsp;&nbsp;&nbsp;&nbsp;(expand:&nbsp;#t)<br>

&nbsp;&nbsp;&nbsp;&nbsp;(fill:&nbsp;'x))<br>

&nbsp;&nbsp;(pack&nbsp;entry)<br>

&nbsp;&nbsp;(pack&nbsp;scroll&nbsp;(expand:&nbsp;#t)&nbsp;(fill:&nbsp;'x)))<br>

</tt>
<p>
<a name="g82"></a>

<h3><br><a name="g83"></a>Section 1.7. Using <tt>&lt;menu&gt;</tt></h3>


<a name="g84"></a>
<a name="g85"></a>
<a name="g86"></a>
<a name="g87"></a>
<a name="g88"></a>
<a name="g89"></a>
<a name="g90"></a>
<a name="g91"></a>
<a name="g92"></a>
<a name="g93"></a>
 <a name="g94"></a>  Simple menus can be created using the <tt>make-menu</tt> macro which constructs
 an instance of the <tt>&lt;menu&gt;</tt> class.  More complicated menus can be
 created by constructing an instance of the <tt>&lt;menu&gt;</tt> class and supplying
 a list of "menu item" objects such as command, check, radio, separator,
 or cascade items.  A menu must be attached to a
 toplevel (or to another menu) before it can be displayed.

 <p>
In the following example we create a toplevel window containing a listbox.
 We use the <tt>make-menu</tt> macro to construct a menu with two top
 level entries, <tt>"_File"</tt> and <tt>"_Edit"</tt>.
 The subforms <tt>make-menu</tt> are lists associating a string label
 with a procedure or a submenu.
 For example, the <tt>"_Open"</tt> label is associated with
 a procedure, returned by <tt>say</tt>, that
 inserts a string in the listbox <tt>lb</tt>, and the <tt>"_Disable"</tt>
 item is associated with a submenu constructed using <tt>make-menu</tt>.
 The underscore characters (`<tt>_</tt>') in the menu titles may be used
 to post a menu by pressing <tt>Alt</tt> and the letter following
 the underscore in the title of that menu.
 For example, pressing <tt>Alt</tt>+<tt>f</tt> posts the "File" menu.

 <p>
Note how the entire
 "Edit" menu is enabled and disabled using
 <tt>set-enabled!</tt>.  Individual menu items are enabled and disabled
 similarly.  Below we use the <tt>find</tt> procedure to retrieve these
 items, but they could also be bound explicitly if the menu were
 constructed by hand.

 <p>
The menu is installed on the <tt>&lt;toplevel&gt;</tt> window using
 the <tt>set-menu!</tt> method, and then the listbox
 <tt>lb</tt> is made visible under the frame via <tt>show</tt>.

<p><tt>(let*&nbsp;([top&nbsp;(create&nbsp;&lt;toplevel&gt;&nbsp;with&nbsp;(title:&nbsp;"Menu&nbsp;Example"))]<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[lb&nbsp;(create&nbsp;&lt;listbox&gt;&nbsp;top)]<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[say&nbsp;(lambda&nbsp;(what)&nbsp;(lambda&nbsp;(self)&nbsp;(insert&nbsp;lb&nbsp;0&nbsp;what)))]<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[find&nbsp;(let&nbsp;()<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(define&nbsp;massoc<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lambda&nbsp;(title&nbsp;menu)<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(let&nbsp;loop&nbsp;([ls&nbsp;(send&nbsp;menu&nbsp;get-menu-items)])<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(cond<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[(null?&nbsp;ls)&nbsp;#f]<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[(string=?&nbsp;title&nbsp;(get-title&nbsp;(car&nbsp;ls)))&nbsp;(car&nbsp;ls)]<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[else&nbsp;(loop&nbsp;(cdr&nbsp;ls))]))))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(define&nbsp;find<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lambda&nbsp;(full-path)<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(let&nbsp;search&nbsp;([path&nbsp;full-path]&nbsp;[found&nbsp;(send&nbsp;top&nbsp;get-menu)])<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(if&nbsp;(not&nbsp;found)<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(error&nbsp;'find&nbsp;"bad&nbsp;menu&nbsp;path&nbsp;~s"&nbsp;full-path)<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(if&nbsp;(null?&nbsp;path)<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;found<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(search&nbsp;(cdr&nbsp;path)&nbsp;(massoc&nbsp;(car&nbsp;path)&nbsp;found)))))))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;find)]<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[menu&nbsp;(make-menu<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("_File"<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(make-menu&nbsp;("_Open"&nbsp;(say&nbsp;"Open"))&nbsp;("_Save"&nbsp;(say&nbsp;"Save"))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("_Disable"<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(make-menu<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("Edit"&nbsp;(lambda&nbsp;(self)&nbsp;(set-enabled!&nbsp;(find&nbsp;'("_Edit"))&nbsp;#f)))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("Edit:Undo"<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lambda&nbsp;(self)&nbsp;(set-enabled!&nbsp;(find&nbsp;'("_Edit"&nbsp;"_Undo"))&nbsp;#f)))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("Edit:Zap"<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lambda&nbsp;(self)<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(set-enabled!&nbsp;(find&nbsp;'("_Edit"&nbsp;"_Zap"))&nbsp;#f)))))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("_Enable"<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(make-menu<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("Edit"&nbsp;(lambda&nbsp;(self)&nbsp;(set-enabled!&nbsp;(find&nbsp;'("_Edit"))&nbsp;#t)))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("Edit:Undo"<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lambda&nbsp;(self)&nbsp;(set-enabled!&nbsp;(find&nbsp;'("_Edit"&nbsp;"_Undo"))&nbsp;#t)))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("Edit:Zap"<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lambda&nbsp;(self)<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(set-enabled!&nbsp;(find&nbsp;'("_Edit"&nbsp;"_Zap"))&nbsp;#t)))))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("_Print"<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(make-menu<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("Draft"&nbsp;(say&nbsp;"Print&nbsp;Draft"))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("2-up"&nbsp;(say&nbsp;"Print&nbsp;2-up"))))))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("_Edit"<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(make-menu<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("_Undo"&nbsp;(say&nbsp;"Undo"))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("_Process"<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(make-menu<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("_Fold"&nbsp;(say&nbsp;"Fold"))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("_Spindle"&nbsp;(say&nbsp;"Spindle"))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("_Mutilate"&nbsp;(say&nbsp;"Mutilate"))))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("_Zap"<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(make-menu<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("Blaster"<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(make-menu<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("Death&nbsp;_Ray"&nbsp;(say&nbsp;"Death&nbsp;Ray&nbsp;Blaster"))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("Ion&nbsp;_Pulse"&nbsp;(say&nbsp;"Ion&nbsp;Pulse&nbsp;Blaster"))))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("Phaser"<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(make-menu<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("_Stun"&nbsp;(say&nbsp;"Phaser&nbsp;=&nbsp;Stun"))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("_Maim"&nbsp;(say&nbsp;"Phaser&nbsp;=&nbsp;Maim"))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("_Frappe"&nbsp;(say&nbsp;"Phaser&nbsp;=&nbsp;Frappe")))))))))])<br>

&nbsp;&nbsp;(set-menu!&nbsp;top&nbsp;menu)<br>

&nbsp;&nbsp;(show&nbsp;lb))<br>

</tt>
<p>
<a name="g95"></a>

<h3><br><a name="g96"></a>Section 1.8. Using <tt>swl:file-dialog</tt></h3>


<a name="g97"></a>
<a name="g98"></a>
<a name="g99"></a>
<a name="g100"></a>
<a name="g101"></a>
<a name="g102"></a>
<a name="g103"></a>
<a name="g104"></a>
<a name="g105"></a>
<a name="g106"></a>
<a name="g107"></a>
<a name="g108"></a>
 The following program implements a simple viewer for the tutorials
 in this section (located in the <tt>tutorial</tt> directory of this release).
 We first define a simple procedure that loads a file into a <tt>&lt;text&gt;</tt>
 widget using block I/O operations.  Next we include the definition
 of a <tt>&lt;scrollframe&gt;</tt> class.  We use a <tt>&lt;scrollframe&gt;</tt> as the
 parent for the <tt>&lt;text&gt;</tt> widget so that scrollbars will be displayed
 automatically when scrolling is possible.  The same could be done
 for a <tt>&lt;listbox&gt;</tt> or <tt>&lt;canvas&gt;</tt> widget.

 <p>
The "Open" item on the "File" menu uses <tt>swl:file-dialog</tt> to
 present the user with a choice of filenames via the file
 selection dialog of the native window system. 
 The <tt>'open</tt> flag requires that the user specify an existing file.
 The optional <tt>file-types:</tt> parameter restricts the display to
 files with an extension matching <tt>"*.ss"</tt>.
 If the user does not cancel out of the dialog, a string corresponding
 to the chosen filename is returned.  In this case we update the
 title of the <tt>&lt;toplevel&gt;</tt> window accordingly, delete all text
 from the <tt>&lt;text&gt;</tt> widget, insert the contents of the file,
 and record the name of the selected file so that the file can be loaded
 when the "Run" menu item is selected.

<p><tt>(let&nbsp;()<br>

&nbsp;&nbsp;(define&nbsp;read-file<br>

&nbsp;&nbsp;&nbsp;&nbsp;(lambda&nbsp;(filename&nbsp;txt)<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(let&nbsp;([buf&nbsp;(make-string&nbsp;2048)])<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(let&nbsp;loop&nbsp;([ip&nbsp;(open-input-file&nbsp;filename)])<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(let&nbsp;([x&nbsp;(block-read&nbsp;ip&nbsp;buf&nbsp;2048)])<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(unless&nbsp;(eof-object?&nbsp;x)<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(insert&nbsp;txt&nbsp;(if&nbsp;(&lt;&nbsp;x&nbsp;2048)&nbsp;(substring&nbsp;buf&nbsp;0&nbsp;x)&nbsp;buf))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(loop&nbsp;ip)))))))<br>

&nbsp;&nbsp;(let*&nbsp;([top&nbsp;(create&nbsp;&lt;toplevel&gt;&nbsp;with&nbsp;(title:&nbsp;"Tutorials"))]<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[sf&nbsp;(create&nbsp;&lt;scrollframe&gt;&nbsp;top)]<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[txt&nbsp;(create&nbsp;&lt;text&gt;&nbsp;sf)]<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[tutorial&nbsp;#f])<br>

&nbsp;&nbsp;&nbsp;&nbsp;(send&nbsp;txt&nbsp;set-font!&nbsp;(create&nbsp;&lt;font&gt;&nbsp;'courier&nbsp;12&nbsp;'()))<br>

&nbsp;&nbsp;&nbsp;&nbsp;(set-menu!<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;top<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(make-menu<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("_File"<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(make-menu<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("_Open"<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lambda&nbsp;(item)<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(let&nbsp;([filename&nbsp;(swl:file-dialog<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Select&nbsp;a&nbsp;tutorial"<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'open<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(file-types:&nbsp;'(("Scheme&nbsp;source"&nbsp;("*.ss"))))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(parent:&nbsp;top))])<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(when&nbsp;filename<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(set-title!&nbsp;top&nbsp;(format&nbsp;"Tutorial:&nbsp;~s"&nbsp;filename))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(delete-all&nbsp;txt)<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(set!&nbsp;tutorial&nbsp;filename)<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(read-file&nbsp;filename&nbsp;txt)))))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("_Run"&nbsp;(lambda&nbsp;(item)&nbsp;(when&nbsp;tutorial&nbsp;(load&nbsp;tutorial))))<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;("_Quit"&nbsp;(lambda&nbsp;(item)&nbsp;(destroy&nbsp;top)))))))<br>

&nbsp;&nbsp;&nbsp;&nbsp;(pack&nbsp;sf&nbsp;(expand:&nbsp;#t)&nbsp;(fill:&nbsp;'both))))<br>

</tt>
<p>
<a name="g109"></a>

<h3><br><a name="g110"></a>Section 1.9. Using <tt>&lt;photo&gt;</tt></h3>


<a name="g111"></a>
<a name="g112"></a>
<a name="g113"></a>
<a name="g114"></a>
<a name="g115"></a>
<a name="g116"></a>
<a name="g117"></a>
 Many widgets, including labels and buttons, can display
 images instead of static text.

 <p>
Below we create an appropriately titled toplevel window <tt>top</tt> to
 display a label.  We create a <tt>&lt;photo&gt;</tt>, specifying the name of the
 file that contains the data.  Currently supported file types
 are GIF and PPM.  Next we create the label, with <tt>top</tt> as its
 parent, and specify the <tt>&lt;photo&gt;</tt> as the value for the
 keyword argument <tt>title:</tt>.
 Finally, to make the label visible we call the <tt>show</tt> method.
 The toplevel is visible by default.

 <p>
The <tt>&lt;bitmap&gt;</tt> class is used just as the <tt>&lt;photo&gt;</tt> class,
 except that the specified file must contain monochrome X11 bitmap
 data.

<p><tt>(let&nbsp;([top&nbsp;(create&nbsp;&lt;toplevel&gt;&nbsp;with&nbsp;(title:&nbsp;"Label&nbsp;Image&nbsp;Example"))]<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[earth&nbsp;(create&nbsp;&lt;photo&gt;&nbsp;with&nbsp;(filename:&nbsp;"earth.gif"))])<br>

&nbsp;&nbsp;(let&nbsp;([label&nbsp;(create&nbsp;&lt;label&gt;&nbsp;top&nbsp;with&nbsp;(title:&nbsp;earth))])&nbsp;(show&nbsp;label)))<br>

</tt>
<p>

</body>
</html>
